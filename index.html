<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="Refresh" Content="8; ./welcome.html">
    <title>aal Izz Well</title>

    <style type="text/css">

        * {
            padding: 0;
            margin: 0;
        }

        .welcomeTitle {
            position: fixed;
            color: honeydew;
            font-size: 38px;
            text-align: center;
            left: 0;
            right: 0;
            top: 0;

        }

        canvas {display: block;}
        html
        {
            background:black;
            border:0;
            height:100%;
            width:100%;
            overflow:hidden;
        }
    </style>

</head>

<body>

<div><h1 class="welcomeTitle">欢迎来到 JohnnyB0Y 的 QQ空间</h1></div>

<canvas id="c">
    <script type="text/javascript">

        window.onresize = function(){
            changeDivHeight();
            changeDivWidth();
        }

        function changeDivHeight(){
            var h = document.documentElement.clientHeight;//获取页面可见高度
            document.getElementById("c").style.height=h+"px";
        }

        function changeDivWidth(){
            var w = document.documentElement.clientWidth;//获取页面可见宽度
            document.getElementById("c").style.width=w+"px";
        }

        window.onload=function()
        {
            var c = document.getElementById("c");
            var ctx = c.getContext("2d");

            c.addEventListener('click', function(e)
            {
                location.href="./welcome.html";
            }, false);

            //全屏显示
            c.height = window.innerHeight;
            c.width = window.innerWidth;

            var txts = "♦♠♣▣●❤☀☁☂♨☃★☆☇☈⊙☊☋☌☍♫♬☜☞";
            txts = txts.split("");

            var font_size = 28;
            var columns = c.width/font_size;

            //每行要输出数组
            var drops = [];

            for(var x = 0; x < columns; x++)
                drops[x] = 1;

            //字符随机颜色
            var wh_color = [];
            wh_color[0]="#99cf15";
            wh_color[1]="#66b82b";
            wh_color[2]="#008678";
            wh_color[3]="#33a23d";

            //绘出字符
            function draw()
            {
                //黑色背景，半透明显示
                ctx.fillStyle = "rgba(0, 0, 0, 0.09)";
                ctx.fillRect(0, 0, c.width, c.height);

                //ctx.fillStyle = "#50BF7F";
                ctx.fillStyle = wh_color[parseInt(Math.random()*100+1)%4];
                ctx.font = font_size + "px arial";

                //drops循环
                for(var i = 0; i < drops.length; i++)
                {
                    //随机打印字符
                    var text = txts[Math.floor(Math.random()*txts.length)];

                    //x = i*font_size
                    //y = value of drops[i]*font_size
                    ctx.fillText(text, i*font_size, drops[i]*font_size);

                    if(drops[i]*font_size > c.height || Math.random() > 0.95)
                        drops[i] = 0;

                    //Y坐标增加
                    drops[i]++;
                }
            }
            setInterval(draw, 50);
        }
    </script>
</canvas>
</body>
</html>